pipeline{
	agent any
	tools{
	    maven '/opt/maven'
	}

	stages{
	    stage ('build') {
	        steps{
	            sh 'mvn clean package'
	        }
	        post{
	            success{
	                echo "Archiving the Artifacts"
	                archiveArtifacts artifacts: '**/target/*.war'
	            }
	        }
	    }
	    stage ('Deploy to tomcat server') {
	        steps{
	            deploy adapters: [tomcat8(credentialsId: 'tomacat-deployer', path: '', url: 'http://44.204.14.250:8080/')], contextPath: null, war: '**/*.war'

	        }
	    }
	}
}